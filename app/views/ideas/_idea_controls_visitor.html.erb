<% if @past_vote %>
  <!-- TODO this doesn't take when viewing an old version of idea that youve voted on, instead it says you supported this version (which is true) -->
  <p role="alert" class="alert alert-secondary">
    you've voted on a <%= link_to 'different version', idea_path(id: @idea.id, version: @past_vote.version.number), class: 'alert-link' %>&mdash;leave it or <%= link_to 'update your vote to the current version', update_vote_path(@past_vote.id, @version.id), method: 'POST', class: 'alert-link' %>
    <!-- TODO this shouldn't show if the vote is on newest version -->
  </p>

<% elsif !@has_already_voted %>
  <p>
    <%= link_to 'Vote on this idea', cast_vote_path(@version.id), method: 'POST', class: 'btn btn-primary' %>
  </p>

<% else %>
  <p role="alert" class="alert alert-success">
    you've supported this idea
    <%= link_to 'Undue your Vote', remove_vote_path(@vote.id, @idea.id), method: 'DELETE', class: 'alert-link' %>
  </p>
<% end %>
